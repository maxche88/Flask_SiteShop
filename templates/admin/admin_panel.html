{% extends 'base.html' %}

{% block link %}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/admin_panel.css') }}">
{% endblock %}

{% block title %}Админ-панель{% endblock %}

{% block header %}
<div class="back">
    <a href="/" title="Вернуться назад">
        <img class="account" src="{{ url_for('static', filename='img/other/back.png') }}" alt="Назад" width="35px" height="35px">
    </a>
</div>
{% endblock %}

{% block content %}
<div class="conteiner_forms">
    <h3>Админ-панель</h3>

    <!-- Вкладки -->
    <div class="admin-tabs">
        <div class="admin-tab active" data-tab="users">Пользователи</div>
        <div class="admin-tab" data-tab="logs">Посмотреть логи</div>
    </div>

    <!-- Содержимое вкладки: Пользователи -->
    <div class="admin-tab-content active" id="tab-users">
        <div class="info_panel">
            <h4>Управление пользователями</h4>

            <div class="container_control">
                <div class="search-box">
                    <input type="text" id="userSearch" placeholder="Поиск по ID, имени или email...">
                    <button id="btnSearch">Найти</button>
                </div>

                <button class="btn-admin" id="btnDeleteOld">Удалить все неподтверждённые (>24 ч)</button>
                <button class="btn-admin" id="btnDeleteSelected" disabled>Удалить выбранные</button>
                <button class="btn-admin" id="btnEditRoleSelected" disabled>Изменить роль</button>
            </div>
            
            <table class="admin-table" id="usersTable">
                <thead>
                    <tr>
                        <th><input type="checkbox" id="selectAll"></th>
                        <th>UID</th>
                        <th>Имя</th>
                        <th>Email</th>
                        <th>Verified</th>
                        <th>Дата</th>
                        <th>IP</th>
                        <th>Роль</th>
                        <th>Устройство</th>
                    </tr>
                </thead>
                <tbody>
                   
                </tbody>
            </table>
        </div>
    </div>

    <!-- Содержимое вкладки: Логи -->
    <div class="admin-tab-content" id="tab-logs">
        <div class="info_panel">
            <h4>Логи попыток авторизации</h4><br>
            <table class="admin-table" id="logsTable">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>IP-адрес</th>
                        <th>Попытки</th>
                        <th>Последняя</th>
                        <th>Заблокирован</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Загрузится через JS -->
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}

{% block js %}
<script src="{{ url_for('static', filename='js/admin_panel.js') }}"></script>
{% endblock %}